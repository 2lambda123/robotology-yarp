FIND_PACKAGE(YARP REQUIRED)

FIND_PACKAGE(OpenCV)

IF (OpenCV_FOUND)

  INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR}/common)
  INCLUDE_DIRECTORIES(${OPENCV_INCLUDE_DIR})
  LINK_LIBRARIES(${OPENCV_LIBRARIES})

  IF (COMPILE_DEVICE_LIBRARY)
    PREPARE_DEVICE(opencv_grabber TYPE OpenCVGrabber INCLUDE common/yarp/OpenCVGrabber.h WRAPPER grabber)
  ENDIF (COMPILE_DEVICE_LIBRARY)

  ADD_LIBRARY(opencv default/yarp/OpenCVGrabber.cpp common/yarp/OpenCVGrabber.h)


ELSE (OpenCV_FOUND)

  MESSAGE(STATUS "opencv not found")

ENDIF (OpenCV_FOUND)


